rule DefaultValues salience 10000000 {
    when
        true
    then

        result.Put("maior_de_idade", "false");

        result.Put("menor_de_idade", "false");

        result.Put("crianca", "false");

        result.Put("adolescente", "false");

        result.Put("adulto", "false");

        Retract("DefaultValues");
}

rule feat_maior_de_idade salience 1001 {
    when
        true
    then
        ctx.Put("maior_de_idade", processor.Boolean(!result.GetBool("menor_de_idade")));

        result.Put("maior_de_idade", ctx.GetBool("maior_de_idade"));

        Retract("feat_maior_de_idade");
}

rule feat_menor_de_idade salience 1002 {
    when
        true
    then
        ctx.Put("menor_de_idade", processor.Boolean(ctx.GetInt("idade") <= 18));

        result.Put("menor_de_idade", ctx.GetBool("menor_de_idade"));

        Retract("feat_menor_de_idade");
}

rule feat_crianca salience 1002 {
    when 
        true
    then
        ctx.Put("crianca", processor.Boolean(ctx.GetInt("idade") <= 10));

        result.Put("crianca", ctx.GetBool("crianca"));

        Retract("feat_crianca");
}

rule feat_adolescente salience 1001 {
    when
        true
    then
        ctx.Put("adolescente", processor.Boolean(!result.GetBool("crianca")));

        result.Put("adolescente", ctx.GetBool("adolescente"));

        Retract("feat_adolescente");
}

rule feat_adulto salience 1000 {
    when 
        true
    then
        ctx.Put("adulto", processor.Boolean(!result.GetBool("crianca") && !result.GetBool("adolescente")));

        result.Put("adulto", ctx.GetBool("adulto"));

        Retract("feat_adulto");
}
