rule DefaultValues salience 10000000 {
    when 
        true
    then
    
        result.Put("male", "false");
    
        result.Put("female", "false");
    
        ctx.AddItem("south_brazil_0_entries", "PR");
    
        ctx.AddItem("south_brazil_0_entries", "SC");
    
        ctx.AddItem("south_brazil_0_entries", "RS");
    
        Retract("DefaultValues");
}

rule feat_male salience 1004 {
    when 
        true 
    then
        ctx.Put("male", processor.Boolean(ctx.GetString("sex") == "M"));
        
        result.Put("male", ctx.Get("male"));
        
        Retract("feat_male");
}

rule feat_female salience 1003 {
    when 
        true 
    then
        ctx.Put("female", processor.Boolean(!result.GetBool("male")));
        
        result.Put("female", ctx.Get("female"));
        
        Retract("feat_female");
}

rule feat_southern_male salience 1001 {
    when 
        true 
    then
        ctx.Put("southern_male", processor.Boolean(result.GetBool("male") && result.GetBool("south_brazil")));
        
        result.Put("southern_male", ctx.Get("southern_male"));
        
        Retract("feat_southern_male");
}

rule feat_southern_female salience 1000 {
    when 
        true 
    then
        ctx.Put("southern_female", processor.Boolean(!result.GetInt("southern_male")));
        
        result.Put("southern_female", ctx.Get("southern_female"));
        
        Retract("feat_southern_female");
}

rule feat_south_brazil_0_value salience 1004 {
    when 
        true 
    then
        ctx.Put("south_brazil_0_value", "south_brazil");
        
        Retract("feat_south_brazil_0_value");
}

rule feat_south_brazil_0 salience 1003 {
    when 
        true 
    then
        ctx.Put("south_brazil_0", processor.Boolean(processor.Contains(ctx.GetSlice("south_brazil_0_entries"), ctx.Get("south_brazil_0_value"))));
        
        result.Put("south_brazil_0", ctx.Get("south_brazil_0"));
        
        Retract("feat_south_brazil_0");
}

rule feat_south_brazil salience 1002 {
    when 
        true 
    then
        ctx.Put("south_brazil", processor.Boolean(result.GetBool("south_brazil_0")));
        
        result.Put("south_brazil", ctx.Get("south_brazil"));
        
        Retract("feat_south_brazil");
}
