rule DefaultValues salience 100000 {
    when 
        true
    then
    <% defaultValues.forEach(function(feat){ %>
        result.Put("<%=feat.name%>", "<%=feat.defaultValue%>");
    <% }); %>
        Retract("DefaultValues");
}
<% featureRules.forEach(function(feat){ %>
rule feat_<%=feat.name%> salience 1000 {
    when 
        true 
    then
        result.Put("<%=feat.name%>", processor.Boolean(<%-feat.expression%>));
        Retract("feat_<%=feat.name%>");
}
<% }); %>