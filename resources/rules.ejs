rule DefaultValues salience 10000000 {
    when 
        true
    then
    <% defaultValues.forEach(function(feat){ %>
        result.Put("<%=feat.name%>", "<%=feat.defaultValue%>");
    <% }); %>
    <% Object.entries(groups).forEach(function([group, items]){ 
        Object.values(items).forEach(function(item, index){ %>
        // ctx.Put("<%=group + '_' + index%>", <%-JSON.stringify(item)%>);
    <%  });
     }); %>
        Retract("DefaultValues");
}
<% featureRules.forEach(function(feat){ %>
rule feat_<%=feat.name%> salience <%=feat.precedence%> {
    when 
        true 
    then
        ctx.Put("<%=feat.name%>", <%-feat.expression%>);
        <% if(feat.result) { %>
        result.Put("<%=feat.name%>", ctx.Get("<%=feat.name%>"));
        <% } %>
        Retract("feat_<%=feat.name%>");
}
<% }); %>